<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Customer Sign Up | AaMilNa</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,500;1,600&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Poppins',sans-serif;background:#fff7f0;color:#4a3b47;}

.container{
max-width:600px;
margin:100px auto;
background:white;
padding:50px;
border-radius:30px;
box-shadow:0 25px 50px rgba(0,0,0,0.15);
}

h1{
font-family:'Playfair Display',serif;
text-align:center;
margin-bottom:10px;
}

p{text-align:center;margin-bottom:30px;opacity:0.85;}

form{display:flex;flex-direction:column;gap:16px;}

input{
padding:14px;
border-radius:14px;
border:1px solid #ccc;
font-family:'Poppins',sans-serif;
}

button{
background:#d8a7a0;
border:none;
padding:14px;
border-radius:30px;
cursor:pointer;
font-weight:500;
transition:0.3s;
}

button:hover{background:#c8928a;}

.links{text-align:center;margin-top:20px;}
.links a{text-decoration:none;color:#4a3b47;font-size:14px;}

.successBox{
display:none;
margin-top:25px;
padding:25px;
background:#f9f3ef;
border-radius:20px;
text-align:center;
box-shadow:0 10px 30px rgba(0,0,0,0.08);
}

.successBox button{
margin-top:15px;
}
</style>
</head>

<body>

<div class="container">

<h1>Create Customer Account</h1>
<p>Discover artisan-made products with ease.</p>

<form id="customerSignupForm">
<input id="name" type="text" placeholder="Full Name" required>
<input id="email" type="email" placeholder="Email Address" required>
<input id="password" type="password" placeholder="Password" required>
<input id="mobile" type="text" placeholder="Mobile Number (digits only)" required>
<input id="address" type="text" placeholder="Address" required>
<input id="confirmAddress" type="text" placeholder="Confirm Address" required>
<button type="submit">Sign Up</button>
</form>

<div class="successBox" id="successBox">
<h3>ü§ç Account Created Successfully</h3>
<p>Your profile has been saved securely.</p>
<button onclick="goToDashboard()">Go to Dashboard</button>
</div>

<div class="links">
Already have an account? <a href="customer-login.html">Login</a><br><br>
<a href="index.html">‚Üê Back to Home</a>
</div>

</div>

<script>

const form = document.getElementById("customerSignupForm");
const successBox = document.getElementById("successBox");

form.addEventListener("submit", function(e){
e.preventDefault();

const name = document.getElementById("name").value.trim();
const email = document.getElementById("email").value.trim().toLowerCase();
const password = document.getElementById("password").value;
const mobile = document.getElementById("mobile").value.trim();
const address = document.getElementById("address").value.trim();
const confirmAddress = document.getElementById("confirmAddress").value.trim();

if(!name || !email || !password || !mobile || !address || !confirmAddress){
alert("Please fill in all fields.");
return;
}

if(!/^\d+$/.test(mobile)){
alert("Mobile number should contain digits only.");
return;
}

if(address !== confirmAddress){
alert("Address and Confirm Address do not match.");
return;
}

let customers = JSON.parse(localStorage.getItem("customers")) || [];

if(customers.some(c => c.email === email)){
alert("Email already registered. Please login.");
return;
}

/* CREATE FULL CUSTOMER PROFILE STRUCTURE */

const newCustomer = {
id: "cust_" + Date.now(),
name,
email,
password,
mobile,
address,
avatar: "https://via.placeholder.com/150",
createdAt: new Date().toISOString(),
orders: [],
reviews: [],
likedProducts: [],
wallet: {
totalSpent: 0,
pendingPayments: 0
}
};

/* SAVE CUSTOMER */

customers.push(newCustomer);
localStorage.setItem("customers", JSON.stringify(customers));

/* SET LOGIN SESSION */

localStorage.setItem("currentCustomerId", newCustomer.id);

/* SHOW SUCCESS PANEL */

form.style.display = "none";
successBox.style.display = "block";

});

/* REDIRECT TO DASHBOARD */

function goToDashboard(){
window.location.href = "customer-dashboard.html";
}

</script>

</body>
</html>

