<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AaMilNa</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,500;1,600&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Poppins',sans-serif;background:#fff7f0;color:#4a3b47;overflow-x:hidden;}

.bubble-bg{position:fixed;inset:0;z-index:-1;overflow:hidden;}
.bubble{position:absolute;width:260px;height:260px;border-radius:50%;
background:radial-gradient(circle at top left,rgba(255,255,255,0.9),rgba(255,220,230,0.45),rgba(200,150,170,0.25));
backdrop-filter: blur(6px);animation: float 30s infinite ease-in-out;}
.bubble::after{content:"üå∏";position:absolute;inset:0;display:flex;justify-content:center;align-items:center;font-size:70px;opacity:0.35;}
.bubble:nth-child(1){top:8%;left:6%;}
.bubble:nth-child(2){top:55%;left:70%;animation-duration:36s;}
.bubble:nth-child(3){top:28%;left:40%;animation-duration:42s;}
@keyframes float{0%{transform:translateY(0);}50%{transform:translateY(-60px);}100%{transform:translateY(0);}}

header{display:flex;justify-content:space-between;align-items:center;padding:22px 50px;background:rgba(255,255,255,0.85);box-shadow:0 8px 25px rgba(0,0,0,0.08);}
header img{height:95px;cursor:pointer;}

.nav{display:flex;gap:25px;align-items:center;}
.nav a{text-decoration:none;font-size:14px;font-weight:500;color:#4a3b47;padding:10px 22px;border-radius:30px;background:#d8a7a0;transition:0.3s;}
.nav a:hover{background:#c8928a;}

.profile-container{cursor:pointer;position:relative;}
.profile-avatar{width:50px;height:50px;border-radius:50%;object-fit:cover;border:2px solid #d8a7a0;}
.profile-dropdown{position:absolute;right:0;top:60px;background:white;border-radius:16px;box-shadow:0 10px 25px rgba(0,0,0,0.15);padding:20px;width:260px;display:none;flex-direction:column;z-index:100;}
.profile-dropdown h4{margin-bottom:6px;font-size:16px;}
.profile-dropdown p{margin-bottom:6px;font-size:14px;color:#555;}
.profile-dropdown button{margin-top:10px;background:#d8a7a0;border:none;padding:10px;border-radius:20px;cursor:pointer;width:100%;font-weight:500;}
.profile-dropdown button:hover{background:#c8928a;}
.profile-dropdown input{margin-top:8px;font-size:13px;}

.hero{text-align:center;padding:120px 20px;}
.hero h1{font-family:'Playfair Display',serif;font-size:66px;font-style:italic;margin-bottom:18px;}
.hero p{max-width:650px;margin:auto;font-size:18px;opacity:0.85;}

section{padding:80px 50px;}
.section-title{text-align:center;font-family:'Playfair Display',serif;font-size:40px;margin-bottom:50px;}

.collection{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:35px;}
.card{background:rgba(255,255,255,0.95);border-radius:28px;padding:25px;box-shadow:0 20px 40px rgba(0,0,0,0.12);text-align:center;transition:0.4s;}
.card:hover{transform:translateY(-10px) scale(1.03);}
.card img{width:100%;height:230px;object-fit:cover;border-radius:20px;margin-bottom:18px;}
.card h3{margin-bottom:15px;}
.card a{display:inline-block;background:#d8a7a0;color:#4a3b47;text-decoration:none;padding:12px 30px;border-radius:30px;font-weight:500;transition:0.3s;}
.card a:hover{background:#c8928a;}

footer{background:#eadfd4;text-align:center;padding:25px;font-size:14px;}
</style>
</head>

<body>

<div class="bubble-bg">
<div class="bubble"></div>
<div class="bubble"></div>
<div class="bubble"></div>
</div>

<header>
<img src="logo.png" onclick="location.href='index.html'">
<div style="display:flex; align-items:center; gap:25px;">
<div class="nav" id="navLinks"></div>
<div class="profile-container" id="profileContainer"></div>
</div>
</header>

<div class="hero">
<h1>AaMilNa</h1>
<p>Where artisans are kings and queens ‚Äî a gentle platform to showcase handmade stories.</p>
</div>

<section>
<h2 class="section-title">Discover Collections</h2>
<div class="collection" id="collectionContainer"></div>
</section>

<footer>
Official email: <strong>aamila.com@gmail.com</strong><br>
¬© 2026 AaMilNa ‚Ä¢ Softly handmade ü§ç
</footer>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";
import { getFirestore, doc, getDoc, setDoc, updateDoc } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";
import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-storage.js";

const firebaseConfig = {
apiKey: "YOUR_API_KEY",
authDomain: "YOUR_AUTH_DOMAIN",
projectId: "YOUR_PROJECT_ID",
storageBucket: "YOUR_STORAGE_BUCKET",
messagingSenderId: "YOUR_ID",
appId: "YOUR_APP_ID"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);
const storage = getStorage(app);

const nav = document.getElementById("navLinks");
const profileContainer = document.getElementById("profileContainer");

function safeLogout(e){
if(e) e.preventDefault();
signOut(auth).catch(err=>console.error(err));
}

onAuthStateChanged(auth, async (user) => {

if(!user){
renderGuestNav();
profileContainer.innerHTML="";
return;
}

try{

const userRef = doc(db,"users",user.uid);
let snap = await getDoc(userRef);

if(!snap.exists()){
await setDoc(userRef,{
email:user.email || "",
name:(user.email || "User").split("@")[0],
role:"customer",
avatar:""
});
snap = await getDoc(userRef);
}

const data = snap.data();

if(data.role==="customer") renderCustomerNav();
else if(data.role==="artisan") renderArtisanNav();
else if(data.role==="admin") renderAdminNav();
else renderGuestNav();

renderProfile(user,data);

}catch(err){
console.error("Auth error:",err);
renderGuestNav();
}

});

function renderGuestNav(){
nav.innerHTML=`
<a href="customer-login.html">Customer</a>
<a href="artisan-signup.html">Artisan</a>
<a href="admin-login.html">Admin</a>
`;
}

function renderCustomerNav(){
nav.innerHTML=`
<a href="customer-dashboard.html">Customer Dashboard</a>
<a href="shop.html">Shop</a>
<a href="#" id="logoutNav">Logout</a>
`;
document.getElementById("logoutNav").addEventListener("click",safeLogout);
}

function renderArtisanNav(){
nav.innerHTML=`
<a href="artisan-dashboard.html">Artisan Dashboard</a>
<a href="shop.html">Shop</a>
<a href="#" id="logoutNav">Logout</a>
`;
document.getElementById("logoutNav").addEventListener("click",safeLogout);
}

function renderAdminNav(){
nav.innerHTML=`
<a href="admin.html">Admin Panel</a>
<a href="shop.html">Shop</a>
<a href="#" id="logoutNav">Logout</a>
`;
document.getElementById("logoutNav").addEventListener("click",safeLogout);
}

function renderProfile(user,data){

profileContainer.innerHTML=`
<img src="${data.avatar || 'https://i.imgur.com/UPVxPjb.png'}" class="profile-avatar" id="avatar">
<div class="profile-dropdown" id="dropdown">
<h4>${data.name}</h4>
<p>${user.email}</p>
<input type="file" id="photoUpload" accept="image/*">
<button id="logoutBtn">Logout</button>
</div>
`;

const avatar=document.getElementById("avatar");
const dropdown=document.getElementById("dropdown");

avatar.addEventListener("click",(e)=>{
e.stopPropagation();
dropdown.style.display=dropdown.style.display==="flex"?"none":"flex";
});

dropdown.addEventListener("click",(e)=>e.stopPropagation());

document.addEventListener("click",()=>dropdown.style.display="none");

document.getElementById("logoutBtn").addEventListener("click",safeLogout);

document.getElementById("photoUpload").addEventListener("change",async function(){
const file=this.files[0];
if(!file) return;

try{
const storageRef=ref(storage,"avatars/"+user.uid);
await uploadBytes(storageRef,file);
const url=await getDownloadURL(storageRef);
await updateDoc(doc(db,"users",user.uid),{avatar:url});
avatar.src=url;
}catch(err){
console.error("Upload error:",err);
}
});

}

const collections=[
{name:'Embroidered Tote Bags',img:'tote.jpg'},
{name:'Crochet Collection',img:'crochet.jpg'},
{name:'Handmade Jewelry',img:'jewelry.jpg'},
{name:'Artisan Stationery',img:'stationery.jpg'},
{name:'Textile Arts',img:'textile.jpg'},
{name:'Art & Illustration',img:'art.jpg'},
{name:'Home & Decor',img:'decor.jpg'},
{name:'Edible Art',img:'edible.jpg'},
{name:'Self-Care & Wellness',img:'selfcare.jpg'},
{name:'Custom & Personalized',img:'custom.jpg'}
];

const container=document.getElementById("collectionContainer");

collections.forEach(col=>{
const card=document.createElement("div");
card.className="card";
card.innerHTML=`
<img src="${col.img}">
<h3>${col.name}</h3>
<a href="shop.html">Discover</a>
`;
container.appendChild(card);
});

</script>

</body>
</html>





































































